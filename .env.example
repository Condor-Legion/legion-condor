# =============================================================================
# Legion Condor - Variables de entorno (copia a .env y ajusta valores)
# =============================================================================

# -----------------------------------------------------------------------------
# Base de datos (Prisma / migraciones y seed en local | Docker Compose)
# -----------------------------------------------------------------------------
DATABASE_URL=postgres://legion:legion@localhost:5432/legion_condor
# Para Docker Compose (opcional; por defecto usa legion/legion/legion_condor):
# POSTGRES_USER=legion
# POSTGRES_PASSWORD=legion
# POSTGRES_DB=legion_condor

# -----------------------------------------------------------------------------
# API
# -----------------------------------------------------------------------------
SESSION_SECRET=CHANGE_ME                  # secreto para firmar sesiones/cookies
API_URL=http://api:3001                   # base URL de la API (usada por bot/worker)
# API_PORT=3001                           # puerto donde levanta la API
# CORS_ORIGIN=http://localhost:3000       # origen permitido para CORS
# GULAG_INACTIVITY_DAYS=30                # dias de inactividad desde ultimo evento para entrar en Gulag

# -----------------------------------------------------------------------------
# Admin inicial (seed crea el usuario solo si estan definidos)
# -----------------------------------------------------------------------------
ADMIN_USERNAME=admin                      # usuario admin inicial (seed)
ADMIN_PASSWORD=change_me                  # password admin inicial (seed)

# -----------------------------------------------------------------------------
# Clave compartida API <-> Bot (requerida para llamadas del bot a la API)
# -----------------------------------------------------------------------------
BOT_API_KEY=YOUR_BOT_API_KEY              # clave compartida Bot -> API

# -----------------------------------------------------------------------------
# Bot de Discord (solo si usas el bot)
# -----------------------------------------------------------------------------
DISCORD_TOKEN=
DISCORD_CLIENT_ID=
# DISCORD_GUILD_ID=           # Opcional: ID del servidor para registrar comandos solo ahí
# DISCORD_SYNC_GUILD_ID=      # Opcional: servidor para auto-sync (por defecto = DISCORD_GUILD_ID)
# DISCORD_SYNC_INTERVAL_HOURS=3   # Intervalo en horas para sync automático (miembros + roster)
# ROSTER_ROLE_IDS=            # IDs de roles Discord separados por coma (quién entra en el roster con /sync-roster)
# CLEAR_GLOBAL_COMMANDS=false  # Si true, borra comandos globales al arrancar (cuidado en producción)
# TICKETS_ADMIN_ROLE_IDS=     # IDs de roles con acceso a todos los tickets (separados por coma). Obligatorio para tickets.
# TICKETS_PENDING_ROLE_ID=    # Rol que se asigna al pulsar "Otorgar Pre-Aspirante" (solo admins)
# TICKETS_MEMBER_ROLE_ID=     # Rol que se otorga al creador del ticket al pulsar "Completar ingreso"
# TICKETS_LOG_CHANNEL_ID=     # Canal donde se guarda el transcript al completar ingreso
# DISCORD_STATS_CHANNEL_ID=  # canal donde se buscan links /games/{id}

# -----------------------------------------------------------------------------
# Web (Next.js) - producción con Docker Compose
# Se usan como build args al construir la imagen; en producción poner la URL pública de la API.
# -----------------------------------------------------------------------------
# NEXT_PUBLIC_API_URL=http://localhost:3001       # por defecto (desarrollo)
# NEXT_PUBLIC_SOCKET_URL=http://localhost:3001   # por defecto (desarrollo)
# En producción (ej. VPS por IP): http://TU_IP:3001 (o el puerto donde expongas la API)

# -----------------------------------------------------------------------------
# Estadisticas (opcional)
# -----------------------------------------------------------------------------
# HLL_STATS_EVENTS=[{"baseUrl":"http://185.207.251.58:7012","mapId":"826"}] # eventos a importar
# STATS_LEGACY_MIGRATION_ENABLED=false    # poner true solo para correr migracion legacy una vez
# STATS_LEGACY_SPREADSHEET_ID=1c1Ei7o8OGEvrh5rAvMq9ugV69rVaRVUfxyd09UK7MRM
# STATS_LEGACY_ROSTER_SHEET_NAME=Miembros BD
# STATS_LEGACY_SERVICE_ACCOUNT_EMAIL=     # email de la cuenta de servicio
# STATS_LEGACY_SERVICE_ACCOUNT_PRIVATE_KEY= # private key (si tiene saltos de linea, usar \n)
# STATS_LEGACY_EVENTS_SHEET=Eventos BD
# STATS_LEGACY_PLAYER_STATS_SHEET=Miembros Stats BD
# STATS_LEGACY_MEMBER_ACCOUNTS_SHEET=Miembros - Norm
# STATS_LEGACY_EVENT_TEMPLATE_ID=          # opcional: template exacto para crear Event
# STATS_LEGACY_EVENT_TEMPLATE_NAME=        # opcional: buscar template por nombre (si no hay ID)
# STATS_LEGACY_EVENT_TEMPLATE_AUTOCREATE=true # crea template "Legacy Stats Migration" si no existe ninguno

# -----------------------------------------------------------------------------
# Github Webhook (for deploy listener)
# -----------------------------------------------------------------------------
#GITHUB_WEBHOOK_SECRET=
#REPO_PATH=